<!doctype html>
<html lang="en">
<head>
    <title>Login</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <header class="header">
    <div class="container">
        <strong>FBS E-Books</strong>
    </div>
</header>
    <h3><center>Login</center></h3>
    <div class="card">
    <form action="catalog.html" method="get">
    Email
    <input name="email"  placeholder="email">
    <br><br>
     Password
    <input type="password" name="pass" placeholder="password">
  </div>
  <button class="btn" type="submit">Login</button>
</form>
      <p class="small">Don't have an account? <a href="register.html">Register</a></p>
    </div>
</body>
</html>

<script>
  const f = document.querySelector('form');
  f.addEventListener('submit', function(e){
    e.preventDefault();
    const user = form.email.value.trim();   // input name="user"
    const pass = form.pass.value;
    const savedUser = localStorage.getItem('registeredUser');
    const savedPass = localStorage.getItem('registeredPass');

    if (!user) { alert('Enter username'); return; }
    if (!pass) { alert('Enter password'); return; }

    if (!savedUser) {
      alert('No registered user found. Please register first.');
      window.location.href = 'register.html';
      return;
    }

    if (user !== savedUser || pass !== savedPass) {
      alert('Invalid username or password');
      return;
    }
    alert('Login successful!');
    window.location.href = 'catalog.html';
  });
</script>

